<main class="flex-grow">
    <form action="/generate" method="post">
        <!-- Hidden field to store type -->
        <input type="hidden" name="type" id="selectedType" value="Stretch">

        <!-- Toggle buttons -->
        <div class="flex justify-center gap-2 mb-6">
            <button id="Stretch" type="button" onclick="selectType('Stretch')"
                    class="flex-1 bg-neon text-black font-semibold py-2 rounded-full">Stretch</button>
            <button id="Warmup" type="button" onclick="selectType('Warmup')"
                    class="flex-1 bg-[#333] text-white font-semibold py-2 rounded-full">Warmup</button>
        </div>

        <!-- Sliders -->
        <div class="space-y-6">
            <div>
                <label for="time" class="block mb-1 text-gray-300">Time Available</label>
                <input id="time" name="time" type="range" min="0" max="100" value="0" class="w-full accent-neon">
            </div>
            <div>
                <label for="effort" class="block mb-1 text-gray-300">Effort Level</label>
                <input id="effort" name="effort" type="range" min="0" max="100" value="0" class="w-full accent-neon">
            </div>
            <div>
                <label for="pain" class="block mb-1 text-gray-300">Pain Level</label>
                <input id="pain" name="pain" type="range" min="0" max="100" value="0" class="w-full accent-neon">
            </div>
        </div>

        <!-- Details -->
        <div class="mt-6">
            <label for="details" class="block text-gray-300 mb-1">Details</label>
            <textarea id="details" name="details"
                      placeholder="describe your state in a few words for more details"
                      class="w-full rounded-xl bg-[#292929] text-white p-3 resize-none h-[6.5rem] max-h-[6.5rem] overflow-auto placeholder-gray-400"></textarea>
        </div>

        <!-- Submit Button -->
        <div class="mt-8">
            <button type="submit" class="w-full bg-neon text-black py-3 text-lg font-semibold rounded-full">
                Generate Plan
            </button>

            <!--  Counters  -->
            <div class="mt-4 grid grid-cols-2 gap-4 text-center text-sm text-gray-300">
                <div class="bg-[#292929] p-3 rounded-xl border border-[#444]">
                    <div class="text-neon text-lg font-bold"><%= numberOfStretches %></div>
                    <div>Stretches</div>
                </div>
                <div class="bg-[#292929] p-3 rounded-xl border border-[#444]">
                    <div class="text-neon text-lg font-bold"><%= numberOfWarmups %></div>
                    <div>Warmups</div>
                </div>
            </div>
        </div>
    </form>
</main>

<!-- JS to set the type -->
<script>
    function selectType(type) {
        const stretchButton = document.getElementById('Stretch');
        const warmupButton = document.getElementById('Warmup');

        if(type === 'Stretch') {
            stretchButton.className = "flex-1 bg-neon text-black font-semibold py-2 rounded-full"
            warmupButton.className = "flex-1 bg-[#333] text-white font-semibold py-2 rounded-full";
        }else {
            warmupButton.className = "flex-1 bg-neon text-black font-semibold py-2 rounded-full"
            stretchButton.className = "flex-1 bg-[#333] text-white font-semibold py-2 rounded-full";
        }

        document.getElementById('selectedType').value = type;
    }
</script>
